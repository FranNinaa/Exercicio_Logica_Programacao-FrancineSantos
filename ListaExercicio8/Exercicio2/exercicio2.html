<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Configuração da página -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercicios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="../../style/style.css">
    <link rel="icon" href="../../assets/cerebro.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Área de Cabeçalho -->
    <header>
        <h1>Exercicio 2 - Lista 8</h1>
    </header>

    <!-- Sessao Principal -->
    <main>
        <form action="" method="post">
            <fieldset class="borda">
                <!-- Título e instruções do exercício -->
               
                <label for="exe2">Use os métodos filter(), map() 
                    e reduce(), no lugar das estruturas de repetição tradicionais, 
                    para processar os vetores idades[] e nomes[] a fim de mostrar a listagem 
                    contendo apenas os dados das pessoas menores de idade.
                </label>
                <br><br>

                <!-- Adicionado para ler os dados -->
                <div id="dadosContainer"></div>
                
                <!-- Botão para adicionar campos de dados -->
                <button class="btn btn-primary" type="button" onclick="adicionarCamposDeDados()">Adicionar campos de dados</button>
                <br><br>
            
                <!-- Botão para executar a função -->
                <section>
                    <input class="btn btn-primary" value="Mostrar Menores de Idade" type="button" onclick="mostrarMenoresDeIdade()">
                </section>
                <br>
                <div>
                    <!-- Saida dos dados dos menores de idade -->
                    <label for="idSaida">Saida</label><br>
                    <output type="text" id="idSaida" name="nmSaida"></output>
                </div>
                

                <br>
            </fieldset>
        </form>
    </main>

    <!-- Sessão de Rodapé -->
    <footer>
        <p>&copy; 2023 - Estudos Entra21.<br>Autora: Francine dos Santos.</p>
    </footer>

    <!-- Script JS -->
    <script>
        function adicionarCamposDeDados() {
            const quantidadePessoas = 5; // Número de pessoas a serem cadastradas
            const dadosContainer = document.getElementById('dadosContainer');
            dadosContainer.innerHTML = '';  // Limpar o conteúdo antes de adicionar novos campos
        
            for (let i = 1; i <= quantidadePessoas; i++) {
                const labelNome = document.createElement('label');
                labelNome.innerHTML = `Nome da pessoa ${i}: `;
                
                const inputNome = document.createElement('input');
                inputNome.type = 'text';
                inputNome.id = `idNome${i}`;
                inputNome.name = `nmNome${i}`;
                
                const labelIdade = document.createElement('label');
                labelIdade.innerHTML = `Idade da pessoa ${i}: `;
                
                const inputIdade = document.createElement('input');
                inputIdade.type = 'number';
                inputIdade.id = `idIdade${i}`;
                inputIdade.name = `nmIdade${i}`;
                inputIdade.min = 0;
                
                dadosContainer.appendChild(labelNome);
                dadosContainer.appendChild(inputNome);
                dadosContainer.appendChild(document.createElement('br'));
                dadosContainer.appendChild(labelIdade);
                dadosContainer.appendChild(inputIdade);
                dadosContainer.appendChild(document.createElement('br'));
                dadosContainer.appendChild(document.createElement('br'));
            }
        }
        
        function mostrarMenoresDeIdade() {
            const quantidadePessoas = 9; // Número de pessoas cadastradas
            const idades = Array.from({ length: quantidadePessoas }, (_, i) => parseInt(document.getElementById(`idIdade${i + 1}`).value));
            const nomes = Array.from({ length: quantidadePessoas }, (_, i) => document.getElementById(`idNome${i + 1}`).value);

            const menoresDeIdade = idades
                .map((idade, index) => ({ nome: nomes[index], idade }))
                .filter(pessoa => pessoa.idade < 18);

            const saida = menoresDeIdade
                .map(pessoa => `Nome: ${pessoa.nome} / Idade: ${pessoa.idade}`)
                .reduce((acc, line) => `${acc}\n${line}`, '');

            const idSaida = document.getElementById('idSaida');
            idSaida.innerText = saida;
        }
    </script>
     <!-- Adicione o link para o JavaScript do Bootstrap (popper.js incluído) e o Bootstrap -->
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
     .integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>
